(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[409],{1792:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/razorpay/razorpayPayment/payment",function(){return n(3611)}])},3611:function(e,a,n){"use strict";n.r(a),n.d(a,{loadScript:function(){return j}});var r=n(5893),t=n(7294),l=n(9854),i=n.n(l),o=n(1265),s=n(1927),d=n(3156),c=n(5449),u=n(1163),p=n(6154),y=n(3100),m=n(5677);let h=(0,o.Z)(),v=e=>{let[a,n]=(0,t.useState)(void 0),[l,o]=(0,t.useState)(!1),[v,x]=(0,t.useState)(""),z=(0,u.useRouter)(),N=z.query,[_,f]=(0,t.useState)(!1);(0,t.useEffect)(()=>{n(N.journey&&N.id),x(N.journey&&N.razorpay_id)},[]);let w=()=>!((null==v?void 0:v.length)>=18&&(null==a?void 0:a.length)>=10),b=async()=>{let e;f(!0);let n=await j("https://checkout.razorpay.com/v1/checkout.js");if(!n){alert("Razorpay SDK failed to load. Are you online?");return}let r={gatewayId:v,order_id:a,amount:parseInt(N.amount),currency:N.currency,handler:async function(n){e={orderCreationId:a,razorpayPaymentId:n.razorpay_payment_id,razorpayOrderId:n.razorpay_order_id,razorpaySignature:n.razorpay_signature},await p.Z.post("/api/razorpay/razorpayPayment",r).then(async a=>{await z.replace({pathname:"/razorpay/razorpayPayment/paymentResponse",query:e})})},modal:{ondismiss:function(){window.location.replace("/razorpay/razorpayPayment/PaymentFailed")}}};o(!0);let t=new window.Razorpay(r);t.open()};return(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:i().main,children:(0,r.jsx)(s.Z,{theme:h,children:(0,r.jsx)(d.Z,{children:l?(0,r.jsx)(y.g,{}):(0,r.jsxs)("div",{className:i().mainContainer,children:[(0,r.jsx)(m.U,{}),(0,r.jsx)("div",{className:i().App,children:(0,r.jsxs)("div",{className:i().tab,children:[(0,r.jsx)("div",{className:i().heading,children:"Payment Gateway"}),(0,r.jsx)("div",{className:i().horizontalLine}),(0,r.jsxs)("div",{className:i().form,children:[(0,r.jsx)("div",{className:i().textInput,children:(0,r.jsx)(c.Z,{id:"outlined-basic",label:"Razorpay Id",variant:"outlined",value:v,className:i().input,onChange:e=>x(e.target.value)})}),!_&&(null==v?void 0:v.length)<=18&&(null==v?void 0:v.length)!=0?(0,r.jsx)("label",{className:i().error,children:"Enter a valid RazorpayId"}):"",(0,r.jsx)("div",{className:i().textInput,children:(0,r.jsx)(c.Z,{id:"outlined-basic",label:"Order Id",variant:"outlined",value:a,className:i().input,onChange:e=>n(e.target.value)})}),!_&&(null==a?void 0:a.length)<10&&(null==a?void 0:a.length)!=0?(0,r.jsx)("label",{className:i().error,children:"Enter a valid OrderId"}):"",(0,r.jsx)("div",{className:i().buttonStyle,children:(0,r.jsx)("button",{disabled:w(),className:"".concat(w()?i().btn:i().enabled),onClick:()=>b(),children:"Submit"})})]})]})})]})})})})})};function j(e){return new Promise(a=>{let n=document.createElement("script");n.src=e,n.onload=()=>{a(!0)},n.onerror=()=>{a(!1)},document.body.appendChild(n)})}a.default=v}},function(e){e.O(0,[577,796,99,827,167,774,888,179],function(){return e(e.s=1792)}),_N_E=e.O()}]);